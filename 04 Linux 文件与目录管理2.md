# 文件处理：

## 搜索

### locate [文件名] ：文件搜索

在 /var/lib/mlocate的后台数据库中搜索，搜索新建的文件需要更新数据库：

> updatedb

配置文件 /etc/updatedb.conf:

> - prune_bind_mounts="yes"<br>
>   开启搜索限制
> - prunes=<br>
>   搜索时不搜索文件系统
> - prunenames=<br>
>   搜索时不搜索的文件类型
> - prunepaths=<br>
>   搜索时不搜索的文件路径

### whereis [选项] [系统命令] ：命令搜索
选项：
- -b 只查找可执行文件
- -m 只查找帮助文件

### which [选项] [系统命令/别名] : 系统命令及其别名搜索

### find [搜索范围] [搜索条件] [通配符] ：文件搜索
如：
> find / -name install.log
> 在/根目录下搜索名为install.log的文件

搜索范围：路径

搜索条件：
- -iname     不区分大小写
- -user      按照所有者搜索
- -nouser    查找没有所有者的文件
- -mtime +10 查找10天前修改的文件（-10:10天内；10:10天当天）
- -atime +10 查找10天前访问的文件（-10:10天内；10:10天当天）
- -ctime +10 查找10天前改变属性的文件（-10:10天内；10:10天当天）
- -size 25k 查找文件大小是25kb的文件（+25k:大于25k;-25k：小于25k）
- -inum 262422 查找文件i节点是262422的文件

> find /etc -size +20k -a -size -50k -exec ls -lh {} \ <br>
> 查找/etc/目录下，大于20k且小于50k的文件,并显示详细信息 <br>
> - -a and 逻辑与<br>
> - -o or 逻辑或<br>
> - -exec/-ok 命令 {} \ :对搜索结果进行操作

通配符：
- '\*' ：匹配任意内容
- '?' ：匹配任意一个字符
- '[]' ：匹配任意一个括号中的字符

### grep [选项]+字符串+文件名：字符串搜索命令
与find不同，grep搜索时进行包含匹配
选项：
- -i 忽略大小写
- -v 排除制定字符串

# 压缩命令
### 常用压缩格式

.zip .gz .bz2

### 常用压缩格式
.tar.gz  .tar.bz2


## zip格式
- zip 【压缩文件名】 【源文件】
- zip -r 【压缩文件名】 【源目录】
- unzip 【压缩文件】


## gz格式
 - gzip 【源文件】  [源文件会消失]
 - gzip -c 【源文件】> 【压缩文件】 [源文件保留]
 - gzip -r 【目录】 [压缩目录下所有的子文件，不能压缩目录]
 - gzip -d 【解压缩】
 - gunzip 解压缩

## bz2格式
注意：bzip2命令不能压缩目录
- bzip2 【源文件】（不保留源文件）
- bzip2 -k 【源文件】（保留源文件）
- bunzip 解压缩

## tar打包命令
tar -cvf 包文件名 源文件
选项：
- -c：打包为.tar格式
- -x：解打包.tar格式文件
- -t：测试压缩文件/查看但不解压
- -v：显示过程
- -f：指定打包后的文件名
- -z：压缩为.tar.gz格式，如：tar -zcvf 【压缩包名.tar.gz】【源文件】 （压缩为.tar.gz格式）
- -j：压缩为.tar.bz2格式，如：tar -jxvf 【压缩包名.tar.bz2】-C /tmp/ (解压缩.tar.bz2格式到/tmp/目录下)
