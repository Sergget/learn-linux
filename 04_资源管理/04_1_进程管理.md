# 4.1 进程管理

## 查看进程
- `ps aux` 查看系统中所有进程，使用BSD模式
- `ps -le` 查看系统中所有的进程，使用linux标准命令格式。选项：
    - `-a`：显示一个终端的所有进程，除了会话引线
    - `-u`：显示进程的归属用户及内存的使用情况
    - `-x`：显示没有控制终端的进程
    - `-l`：长格式显示。显示更加详细的信息
    - `-e`：显示所有进程，和`-A`作用一致
- `pstree` 树形显示进程树。选项：
    - `-p`：显示进程的PID
    - `-u`：显示进程所属用户

## 查看内存信息
- `free`命令查看内存使用状态，选项：
  - `-b`：以字节为单位显示
  - `-k`：以KB为单位显示（默认选项）
  - `-m`：以MB为单位显示
  - `-g`：以GB为单位显示

## `top` 命令
选项：
  - `-d`：指定top命令更新间隔，单位为秒
  - `-b`：使用批处理模式输出，一般和`-n`选项合用
  - `-n`：指定top命令执行的次数，一般和`-b`合用

  在top命令交互模式中的命令：
  - `?` 或 `h`：显示帮助
  - `P`：以CPU使用率排序，默认项
  - `M`：以内存的使用率排序
  - `N`：以PID排序

## 前台与后台
将前台占用bash的进程放入后台（相当于windows中的最小化）：在命令后加`&`
- `jobs -l` 查看后台工作列表
- `fg %[工作号]` 将后台暂停的工作恢复到前台，`%`可以省略
- `bg %[工作号]` 将后台暂停的工作恢复到后台执行

**注意：后台进程会在终端退出后停止。**

## 脱离终端
后台进程脱离终端的3种方法：
1. 将命令写入`/etc/rc.local`，该文件中的命令会在系统启动后自动运行
2. 使用系统定时任务
3. 使用`nohup`命令:`nohup [命令] &`